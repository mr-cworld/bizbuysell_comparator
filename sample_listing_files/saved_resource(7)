if(typeof Validation=="undefined")var Validation={};$(function(){function n(n){$("#"+n+" input").on("keydown",function(t){var r;if(t.keyCode!==13)return!0;var u="#"+n,f=$(this),i=$(u).find("input, textarea, select");return!i||i.length===0?!0:(i=i.filter(":visible"),r=-1,$.each(i,function(n,t){t===f[0]&&(r=n)}),r!==-1&&r!==i.length-1&&$(i[r+1]).focus(),t.preventDefault(),!1)})}$("select, input").on("change paste input",function(){$(this).removeClass("error")});$.each($(".enterKeyBetweenInputs"),function(t,i){n(i.id)})}),function(n){function u(i,r){var u=!0;switch(r){case n.ControlType.RadioButtonList:$('input[name="'+i.attr("name")+'"]:checked').length==0&&(u=!1);break;case n.ControlType.ListBox:$("select#"+i.attr("id")+" option:selected").length==0&&(u=!1);break;case n.ControlType.Anchor:u=i.text()!="";break;default:i.val().replace(t,"")==""&&(u=!1)}return u}function f(n){$.ajax({url:"/xcommon/services/ErrorTracking.asmx/TraceErrorList",type:"POST",data:{xml:n}})}var i=new RegExp("^\\d+$"),r=new RegExp("^\\d+(\\.\\d{2})?$"),t=/^\s+|\s+$/g;n.ControlType={RadioButtonList:"radiobuttonlist",ListBox:"listbox",Anchor:"anchor"};n.ControlType={RadioButtonList:"radiobuttonlist",ListBox:"listbox",Anchor:"anchor"};n.IsValid=function(u,f,e){var b,k,d,a,g,h,nt,tt,it,ft,rt,y,p,et,ot,st,vt,ht,ut,ct,w,l;if(u=!!u,f=f||function(){return!0},e=e||function(){return!0},b=!0,(n.ValidationControls||[]).length>0){for(k="<ClientSideErrorList>",d=0;d<n.ValidationControls.length;d++)if(a=n.ValidationControls[d]||{ClientID:"",ControlType:0,ErrorTypes:[],ErrorSourceName:"",DisableValidation:!1},g=a.ClientID||"",g!=""&&!a.DisableValidation&&(h=$("#"+g),h.length>0||a.ControlType==40)){if(nt=!0,u&&!h.is(":visible"))continue;if(tt=a.ErrorTypes||[],tt.length>0){for(it=[],ft=[],rt=0;rt<tt.length;rt++){var c=!0,s=tt[rt]||{ErrorTypeID:0,ErrorMessage:"",RegularExpressionPattern:"",ConfirmFieldConfirmControlClientID:"",InvalidSelectionValue:"",Range:{MinValue:0,MaxValue:0,RangeType:0},CustomValidationFunction:function(){return!0}},v=s.TrueErrorTypeID||0,o=h.val();if(v>0){y=s.InvalidSelectionValue||"";switch(v){case 10:p=!0;switch(a.ControlType){case 40:et=$('input[type="radio"][name="'+g.replace(/_/g,"$")+'"]');et.length>0&&(ot=et.filter(":checked"),(ot.length<=0||ot.val()==y)&&(p=!1));break;case 50:h.is(":checked")||(p=!1);break;default:(o==null||o==y||o.replace(t,"")=="")&&(p=!1)}p||(c=!1);break;case 20:st=s.RegularExpressionPattern||"";st!=""&&(vt=new RegExp(st),o==y||vt.test(o)||(c=!1));break;case 30:ht=s.ConfirmFieldConfirmControlClientID||"";ht!=""&&(ut=$("#"+ht),ut.length>0&&ut.val().toUpperCase()!=o.toUpperCase()&&(c=!1,h=h.add(ut)));break;case 40:ct=s.CustomValidationFunction||function(){return!0};try{typeof ct!="function"||ct(h)||(c=!1)}catch(pt){}break;case 50:o&&!i.test(o)&&(c=!1);break;case 60:o&&!r.test(o)&&(c=!1);break;case 70:case 80:if(o!=y){w=!0;l=NaN;switch(v){case 70:l=parseInt(o,10);break;case 80:l=parseFloat(o)}var lt=s.Range.MinValue||0,at=s.Range.MaxValue||0,yt=s.Range.RangeType||0;if(lt<at&&!isNaN(l)){w=!1;switch(yt){case 0:l>=lt&&l<=at&&(w=!0);break;case 10:l>lt&&l<at&&(w=!0)}}w||(c=!1)}}c||$.inArray(v,it)!=-1||it.push(v)}c||(k+='<ClientSideError PageUrl="'+n.PageUrl+'" ErrorSourceName="'+a.ErrorSourceName+'" ErrorTypeID="'+s.ErrorTypeID+'" ErrorMessage="'+s.ErrorMessage+'" InputData="'+o+'"><\/ClientSideError>',nt=!1,ft.push(s.ErrorMessage||""))}nt?e(h):f(h,ft,it);nt||(b=!1)}}k+="<\/ClientSideErrorList>";b||typeof TrackErrorList!="function"||TrackErrorList(k)}return b};n.Validate=function(n,t,i,r,u){var f,e;return n=n||"",t=t||[],i=i||"",r=!!r,u=u||!1,f=Validation.IsValid(r,function(n,i,r){var f,u;n=n||[];i=i||[];r=r||[];$(i).each(function(){t.push(this.toString())});n.length>0&&(f=n.parent(),n.addClass("error"),f.addClass("error"),n.parents(".control-group").addClass("error"),u=$(),n.each(function(){for(var n=0,t=f;u.length==0&&n<2;)u=u.add(t.find('label[for="'+$(this).attr("id")+'"]')),t=f.parent(),n++}),u.length>0&&u.addClass("error"),$.inArray(20,r)>=0?(n.addClass("invalid"),f.addClass("invalid"),u.length>0&&u.addClass("invalid")):(n.removeClass("invalid"),f.removeClass("invalid"),u.length>0&&u.removeClass("invalid")))},function(n){var i,t;n=n||[];n.length>0&&(i=n.parent(),n.removeClass("error invalid"),i.removeClass("error invalid"),t=$(),n.each(function(){for(var n=0,r=i;t.length==0&&n<2;)t=t.add(r.find('label[for="'+$(this).attr("id")+'"]')),r=i.parent(),n++}),t.length>0&&t.removeClass("error invalid"))}),n!=""&&(e=$("#"+n),e.length>0&&(f?e.removeClass("error"):e.addClass("error"))),!f&&t.length>0&&i!=""&&(u?Validation.AddErrorMessagesNew(t,i,!0,!0):Validation.AddErrorMessages(t,i,!0)),f};n.Initialize=function(){var n,i,r,t;if((Validation.ValidationControls||[]).length>0)for(n=0;n<Validation.ValidationControls.length;n++)if(i=Validation.ValidationControls[n]||{ClientID:"",ControlType:0,ErrorTypes:[],ErrorSourceName:"",DisableValidation:!1},r=i.ClientID||"",r!=""&&(t=$("#"+r),t.length>0))switch(i.ControlType){case 10:t.blur(function(){this.value!=""&&Validation.ClearError($(this))});break;case 20:t.change(function(){this.value!=""&&Validation.ClearError($(this))})}};n.ClearError=function(n){var i,t;(n||[]).length>0&&(n.removeClass("error invalid"),i=n.parent(),i.removeClass("error invalid"),t=$(),n.each(function(){for(var n=0,r=i;t.length==0&&n<2;)t=t.add(r.find('label[for="'+$(this).attr("id")+'"]')),r=i.parent(),n++}),t.length>0&&t.removeClass("error invalid"))};n.AddErrorMessages=function(n,t,i,r){if(n=n||[],t=t||"",i=!!i,r=!!r,n.length>0&&t!=""){var u=$("#"+t);u.length>0&&($(window).scrollTop(u.position().top),i&&u.empty(),$(n).each(function(){u.append("<li>"+this.toString()+"<\/li>")}),r&&u.show())}};n.AddErrorMessagesNew=function(n,t,i,r){if(n=n||[],t=t||"",i=!!i,r=!!r,n.length>0&&t!=""){var u=$("#"+t);u.length>0&&(i&&u.empty(),$(n).each(function(){this.length>0&&u.append("<span>"+this.toString()+"<\/span> <br>")}),r&&u.parent().show(),document.body.scrollTop=document.documentElement.scrollTop=0)}};n.ManualValidate=function(n,t,i,r){var s,h,e,v,l;for(n=n||[],t=t||function(n){n.addClass("error").parents(".control-group").addClass("error");$("#websiteTooltip").removeClass("error")},i=i||function(n){n.removeClass("error").parents(".control-group").removeClass("error")},r=!!r,s=!0,h="<ClientSideErrorList>",e=0;e<n.length;e++){var c=!0,o=$("#"+n[e].ClientID),a=!0;if(!o.is(":disabled")&&(o.is(":visible")||r)){typeof n[e].RequiredField!="undefined"&&(a=!!n[e].RequiredField);try{a&&!u(o,n[e].ControlType||"")?c=!1:typeof n[e].CustomValidationFunction!="function"||n[e].CustomValidationFunction(o)||(c=!1)}catch(y){c=!1}}c?i(o):(t(o),s=!1,v=10,l="Required: ",a||(v=20,l="Custom Validation: "),l+=n[e].ClientID,h+='<ClientSideError PageUrl="'+encodeURIComponent(window.location.href)+'" ErrorSourceName="Client Side Validation" ErrorTypeID="'+v+'" ErrorMessage="'+l+'" InputData="'+o.val()+'"><\/ClientSideError>')}return h+="<\/ClientSideErrorList>",s||f(h),s};n.ValidateFinancialInfo=function(n){for(var r,i=!0,t=0;t<n.length;t++)n[t].val()&&(r=n[t].val().replace(/[^0-9,.]+/g,""),i=r.length>0?!0:!1);return i};n.ValidateBrokerFinanceSection=function(n,t){for(var r,i=0;i<n.length;i++)r=n[i],Validation.ValidationControls[r].ErrorTypes=t?[{ErrorTypeID:20,TrueErrorTypeID:40,CustomValidationFunction:function(n){var i=!0,r=n.val(),t;return r&&(t=n.val().replace(/[^0-9,.]+/g,""),i=r===t&&t>0?!0:!1),i}}]:[{ErrorTypeID:10,TrueErrorTypeID:10}]};n.FinancialInformationValidation=function(n,t){for(var e,r,o,f=!1,u=[],i=0;i<n.length;i++)e=$("#"+n[i].ClientID),n[i].FinancialInfo&&(u.push(i),n[i].RequiredField=!0,n[i].CustomValidationFunction(e)&&(f=!0));for(r=0;r<u.length;r++)o=u[r],n[o].RequiredField=f||!t?!1:!0;return n};n.BlurValidate=function(n,t,i,r){var u,f,e;t=t||function(n){n.addClass("error").parents(".control-group").addClass("error")};i=i||function(n){n.removeClass("error").parents(".control-group").removeClass("error")};r=!!r;u=$("#"+n.data.ClientID);f=!0;(u.is(":visible")||r)&&(e=!0,typeof n.data.RequiredField!="undefined"&&(e=!!n.data.RequiredField),u.val()!=""?typeof n.data.CustomValidationFunction=="function"&&(f=n.data.CustomValidationFunction(u,!0)):e&&(f=!1));f?i(u):t(u)}}(Validation)